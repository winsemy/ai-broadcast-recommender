<!DOCTYPE htm
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ê¸°ë…êµ ë°©ì†¡ ì¶”ì²œ (v2) - ë‹¤í¬ í…Œë§ˆ</title>
    <style>
        /* (CSS ìŠ¤íƒ€ì¼ - ë‹¤í¬ í…Œë§ˆ) */
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif; background-color: #1a1a1a; padding: 20px; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .app-cl>ontainer { max-width: 600px; width: 100%; background: #2a2a2a; padding: 30px 40px; border-radius: 12px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); }
        h1 { color: #ffd700; text-align: center; margin-top: 0; }
        p.intro { text-align: center; color: #e0e0e0; margin-bottom: 30px; }
        .question { margin-bottom: 20px; background: #3a3a3a; padding: 20px; border-radius: 8px; border: 1px solid #4a4a4a; }
        .question strong { display: block; margin-bottom: 10px; color: #ffffff; }
        select { width: 100%; padding: 10px; font-size: 1em; border-radius: 5px; border: 1px solid #666; background-color: #4a4a4a; color: #ffffff; }
        select option { background-color: #4a4a4a; color: #ffffff; }
        button { background: #ffd700; color: #1a1a1a; padding: 15px 20px; border: none; cursor: pointer; font-size: 1.1em; font-weight: bold; width: 100%; border-radius: 8px; transition: background-color 0.3s; }
        button:hover { background: #e6c200; }
        .loader { border: 5px solid #4a4a4a; border-top: 5px solid #ffd700; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 30px auto; display: none; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        #results { margin-top: 30px; border-top: 2px solid #4a4a4a; padding-top: 20px; }
        h2.results-title { text-align: center; color: #ffd700; }
        .program { border: 1px solid #4a4a4a; padding: 16px; margin-bottom: 12px; background: #3a3a3a; border-radius: 8px; transition: transform 0.2s, box-shadow 0.2s; }
        .program:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.2); }
        .program strong { font-size: 1.2em; color: #ffd700; display: block; }
        .program .program-tags { font-size: 0.9em; color: #cccccc; margin-top: 5px; }
        p { color: #e0e0e0; }
    </style>
</head>
<body>

    <div class="app-container">
        <h1>ğŸ’¡ ë‹¹ì‹ ì˜ ì‹ ì•™ ìŠ¤íƒ€ì¼ì„ ì•Œë ¤ì£¼ì„¸ìš”!</h1>
        <p class="intro">2ê°€ì§€ ì§ˆë¬¸ì— ë‹µí•´ì£¼ì‹œë©´, 5ê°œ ë°©ì†¡ì‚¬ì˜ ìµœì‹  í”„ë¡œê·¸ë¨ ì¤‘<br>ì„±í–¥ì— ë§ëŠ” ì½˜í…ì¸ ë¥¼ AIê°€ ì¶”ì²œí•´ ë“œë¦½ë‹ˆë‹¤.</p>

        <div class="question">
            <strong>[ì§ˆë¬¸ 1] ì§€ê¸ˆ ì–´ë–¤ ë¶„ìœ„ê¸°ë¥¼ ì„ í˜¸í•˜ì„¸ìš”?</strong><br>
            <select id="choice1">
                <option value="ë¬µìƒ">1: ì¡°ìš©íˆ ë§ì”€ì„ ë¬µìƒí•˜ê³  ì‹¶ì–´ìš”.</option>
                <option value="ì°¬ì–‘">2: ëœ¨ê²ê²Œ ì°¬ì–‘í•˜ê³  ì‹¶ì–´ìš”.</option>
                <option value="ê°„ì¦">3: ì‹ ì•™ì¸ì˜ ì‚¶ì˜ ì´ì•¼ê¸°ê°€ ê¶ê¸ˆí•´ìš”.</option>
            </select>
        </div>

        <div class="question">
            <strong>[ì§ˆë¬¸ 2] ê°€ì¥ ê´€ì‹¬ ìˆëŠ” ì£¼ì œëŠ” ë¬´ì—‡ì¸ê°€ìš”?</strong><br>
            <select id="choice2">
                <option value="ì„±ê²½ê³µë¶€">1: ì„±ê²½ì„ ê¹Šì´ ìˆê²Œ ë°°ìš°ê³  ì‹¶ì–´ìš”.</option>
                <option value="ì‹œì‚¬êµì–‘">2: ê¸°ë…êµì  ê´€ì ì˜ ë‰´ìŠ¤ê°€ ê¶ê¸ˆí•´ìš”.</option>
                <option value="ë‹¤ìŒì„¸ëŒ€">3: ì•„ì´ë“¤ì„ ìœ„í•œ ì½˜í…ì¸ ê°€ í•„ìš”í•´ìš”.</option>
            </select>
        </div>

        <button onclick="getRecommendation()">AI ì¶”ì²œë°›ê¸°</button>
        <div id="loader" class="loader"></div>
        <div id="results"></div>
    </div>

    <script>
        async function getRecommendation() {
            let choice1 = document.getElementById('choice1').value;
            let choice2 = document.getElementById('choice2').value;
            let userTags = []; // ìˆ˜ì •: ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”
            if (choice1 === 'ë¬µìƒ') userTags.push('#ë§ì”€ë¬µìƒ', '#ì¡°ìš©í•œ', '#ì„¤êµ');
            else if (choice1 === 'ì°¬ì–‘') userTags.push('#ëœ¨ê±°ìš´ì°¬ì–‘', '#ê¸°ë„', '#ì˜ˆë°°ì‹¤í™©');
            else if (choice1 === 'ê°„ì¦') userTags.push('#ê°„ì¦', '#ì‚¶ì˜ì´ì•¼ê¸°', '#íë§í† í¬');
            if (choice2 === 'ì„±ê²½ê³µë¶€') userTags.push('#ì„±ê²½ê³µë¶€', '#ê¹Šì´ìˆëŠ”');
            else if (choice2 === 'ì‹œì‚¬êµì–‘') userTags.push('#ì‹œì‚¬êµì–‘', '#ê¸°ë…êµê´€ì ');
            else if (choice2 === 'ë‹¤ìŒì„¸ëŒ€') userTags.push('#ë‹¤ìŒì„¸ëŒ€', '#ì–´ë¦°ì´');
            let uniqueTags = [...new Set(userTags)]; // ìˆ˜ì •: ì¤‘ë³µ ì œê±° ë¡œì§ ë³µêµ¬
            
            let loader = document.getElementById('loader');
            let resultsDiv = document.getElementById('results');

            loader.style.display = 'block';
            resultsDiv.innerHTML = '';

            try {
                // (ìµœì¢… ìˆ˜ì •ëœ Replit ì£¼ì†Œì™€ í¬íŠ¸ 5000 ì‚¬ìš©)
                // Replit ì£¼ì†Œ: https://python-repl-winsemy.replit.app
                const response = await fetch('https://python-repl-winsemy.replit.app/recommend', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tags: uniqueTags })
                });
                if (!response.ok) throw new Error(`ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜: ${response.status}`);
                
                const recommendations = await response.json();
                
                displayResults(recommendations);

            } catch (error) {
                console.error("ì„œë²„ í†µì‹  ì˜¤ë¥˜:", error);
                resultsDiv.innerHTML = `<p style="color: red; text-align: center;">ì˜¤ë¥˜: ì¶”ì²œ ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.<br>Replitì—ì„œ 'server.py' íŒŒì¼ì´ ì¼œì ¸ ìˆëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.</p>`;
            
            } finally {
                loader.style.display = 'none';
            }
        }

        function displayResults(results) {
            let resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `<h2 class="results-title">âœ¨ AI ì¶”ì²œ í”„ë¡œê·¸ë¨ ëª©ë¡ âœ¨</h2>`;
            
            if (results.length === 0) {
                resultsDiv.innerHTML += "<p style='text-align: center; color: #e0e0e0;'>ì•„ì‰½ì§€ë§Œ, í˜„ì¬ ì„±í–¥ì— ë§ëŠ” í”„ë¡œê·¸ë¨ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</p>";
                return;
            }

            results.forEach(program => {
                resultsDiv.innerHTML += `
                    <div class="program">
                        <strong>[${program.ë°©ì†¡ì‚¬}] ${program.í”„ë¡œê·¸ë¨ëª…}</strong>
                        <div class="program-tags">
                            <small>ê´€ë ¨ íƒœê·¸: ${program.íƒœê·¸.join(', ')}</small>
                        </div>
                    </div>
                `;
            });
        }
    </script>
</body>
</html>

